!function(a){function b(a){return a.indexOf("/")>=0?a.replace(/\\/g,"/").replace(/\/[^\/]*$/,""):"."}function c(a){return new RegExp("^([a-z]+://|//)").test(a)}function d(a,d){var e,f,g,h=d.childNodes,i=null;for(e=0;e<h.length;e++)if(f=h[e],"xml-stylesheet"===f.target&&(g=f.data.match(/href=\"(.*)\"/))){i=g[1],c(i)||(i=b(a)+"/"+i);break}return i}function e(a,b,c){c=c||{};var d,e=null;if(a.implementation&&a.implementation.createDocument){d=new XSLTProcessor;try{d.importStylesheet(b)}catch(f){console.error(f)}e=d.transformToDocument(a)}else{var g=new ActiveXObject("Microsoft.XMLDOM");if(g){var h=(new ActiveXObject("MSXML2.FreeThreadedDOMDocument"),new ActiveXObject("Msxml2.XSLTemplate"));h.stylesheet=b;var i=h.createProcessor();i.input=a,i.transform(),e=i.output}}return e}a.ajaxTransport("xslt",function(b,c,f,g,h){if("xslt"===b.dataType||b.xmlStylesheet){b.dataType="xslt";var i,j=!1;return{send:function(c,f){i=a.ajax(a.extend(!0,{},b,{dataType:"xml",success:function(c){if(c&&!j){var g=b.xmlStylesheet||d(b.url,c);g?i=a.ajax({url:g,dataType:"xml",success:function(a){if(!j){var d=e(c,a,b);d?(b.unescapeOutput&&unescapeOutput(d),f(200,"Transform successful",{xslt:d})):f(400,"Error transforming xml",{})}},error:function(){j||f(i.status,i.statusText,{})}}):f(400,"No Stylesheet provided",{})}},error:function(a){j||f(i.status,i.statusCode,{})}}))},abort:function(){j=!0,i&&i.abort()}}}})}(jQuery);