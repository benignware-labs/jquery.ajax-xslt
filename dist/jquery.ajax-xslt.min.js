!function(a){function b(a){return a.indexOf("/")>=0?a.replace(/\\/g,"/").replace(/\/[^\/]*$/,""):"."}function c(a){return new RegExp("^([a-z]+://|//)").test(a)}function d(a,d){var e,f,g,h=d.childNodes,i=null;for(e=0;e<h.length;e++)if(f=h[e],"xml-stylesheet"===f.target&&(g=f.data.match(/href=\"([^'"]*)\"/))){i=g[1],c(i)||(i=b(a)+"/"+i);break}return i}function e(a){if(window.XMLSerializer){var b=new XMLSerializer,c=b.serializeToString(a);return c}return"object"==typeof a.xml?a.xml:void 0}function f(a,b){var c;try{if(c=(new DOMParser).parseFromString(a,b))return c}catch(d){}return/^\s*text\/html\s*(?:;|$)/i.test(b)?(c=document.implementation.createHTMLDocument(""),markup.toLowerCase().indexOf("<!doctype")>-1?c.documentElement.innerHTML=markup:c.body.innerHTML=markup,c):null}function g(a,b,c){c=c||{};var d,g=null;if("XSLTProcessor"in window&&a.implementation&&a.implementation.createDocument){d=new XSLTProcessor;try{d.importStylesheet(b)}catch(h){console.error(h)}g=d.transformToDocument(a)}else if("DOMParser"in window&&(window.ActiveXObject||"ActiveXObject"in window))try{var i=b.getElementsByTagNameNS("http://www.w3.org/1999/XSL/Transform","output")[0],j=i&&i.getAttribute("method")||"xml",k="html"===j?"text/html":"text/xml",l=e(a);l=l.replace(/\&shy;/gi,"&#173;");var m=new ActiveXObject("Msxml2.DOMDocument");m.async=!1,m.resolveExternals=!1,m.validateOnParse=!1,m.loadXML(l);var n=new ActiveXObject("Msxml2.FreeThreadedDOMDocument"),o=e(b);n.loadXML(o);var p;if("transformNode"in m&&(p=m.transformNode(n)),!p){var q=new ActiveXObject("Msxml2.XSLTemplate");q.stylesheet=n,d=q.createProcessor(),d.input=m,d.transform(),p=d.output}g=f(p,k)}catch(h){console.error(h)}else console.warn("XSLT is not supported");return g}function h(b){a(b).find("*").contents().filter(function(){return 3===this.nodeType}).each(function(){var b=document.createDocumentFragment(),c=document.createElement("div");c.innerHTML=this.nodeValue,a(c).contents().each(function(){b.appendChild(this)}),a(b).insertBefore(this),a(this).remove()})}a.ajaxTransport("xslt",function(b,c,e,f,i){if("xslt"===b.dataType||b.xmlStylesheet){b.dataType="xslt";var j,k=!1;return{send:function(c,e){j=a.ajax(a.extend(!0,{},b,{dataType:"xml",contentType:"application/xml",success:function(c){if(c&&!k){var f=b.xmlStylesheet||d(b.url,c);f?j=a.ajax({url:f,dataType:"xml",contentType:"text/xml",success:function(a){if(!k){var d=g(c,a,b);d?(b.unescapeOutput&&h(d),e(200,"Transform successful",{xslt:d})):e(400,"Error transforming xml",{})}},error:function(){k||e(j.status,j.statusText,{})}}):e(400,"No Stylesheet provided",{})}},error:function(a){k||e(j.status,j.statusCode,{})}}))},abort:function(){k=!0,j&&j.abort()}}}})}(jQuery);